#ifndef __CELLMAP_H
#define __CELLMAP_H

typedef uint8_t Cell;

/*
 * Cells are a byte long.
 * They are defined as followed:
 *    0001 1112
 * where 0s are not used,
 *       1s are the neighbour count,
 *       2  is the state of the cell (1 means alive).
 * The difference between this version and the new one is that the neighbour
 * count is always up-to-date in this version. The new version only fetches
 * it when calculating a new generation.
 */

class Game;

class CellMap
{
public:
	CellMap(Game* g, unsigned int w, unsigned int h);
	~CellMap();
	void giveLifeToCell(unsigned int x, unsigned int y);
	void killCell(unsigned int x, unsigned int y);
	inline int isAlive(int x, int y);
	void nextGeneration();
	void init();

private:
	Game* game;
	Cell* cells;
	Cell* temp_cells;
	unsigned int width;
	unsigned int height;
	unsigned int length_in_bytes;
};

#endif // __CELLMAP_H
